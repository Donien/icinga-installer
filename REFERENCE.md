# Reference

<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

### Classes

* [`install`](#install): Template class
* [`install::agent`](#installagent): Class to install Icinga agent
* [`install::feature::elasticsearch`](#installfeatureelasticsearch): Configures the Icinga 2 feature elasticsearch.
* [`install::feature::gelf`](#installfeaturegelf): Configures the Icinga 2 feature gelf.
* [`install::feature::graphite`](#installfeaturegraphite): Configures the Icinga 2 feature graphite.
* [`install::feature::influxdb`](#installfeatureinfluxdb): Configures the Icinga 2 feature influxdb.
* [`install::feature::livestatus`](#installfeaturelivestatus): Configures the Icinga 2 feature livestatus.
* [`install::params`](#installparams): Class for defaults and password cache data.
* [`install::plugins`](#installplugins): This class installs monitoring plugins.
* [`install::repos`](#installrepos): This class manages the stages stable, testing and snapshot of packages.icinga.com repository and depending on the operating system platform s
* [`install::server`](#installserver): Setup a Icinga server.
* [`install::web`](#installweb): Class to manage IDO and Icinga Web 2.
* [`install::worker`](#installworker): Class to install Icinga worker

## Classes

### `install`

Template class

### `install::agent`

Class to install Icinga agent

#### Parameters

The following parameters are available in the `install::agent` class.

##### `ca_server`

Data type: `Stdlib::Host`

The CA to send the certificate request to.

##### `parent_zone`

Data type: `String`

Name of the parent Icinga zone.

Default value: `'main'`

##### `parent_endpoints`

Data type: `Hash[String, Hash]`

Configures these endpoints of the parent zone.

##### `global_zones`

Data type: `Array[String]`

List of global zones to configure.

Default value: `['linux-commands']`

##### `logging_type`

Data type: `Enum['file', 'syslog']`

Switch the log target. Only `file` is supported on Windows.

Default value: `'syslog'`

##### `logging_level`

Data type: `Enum[
    'debug', 'information',
    'notice', 'warning', 'critical'
  ]`

Set the log level.

Default value: `'critical'`

### `install::feature::elasticsearch`

Configures the Icinga 2 feature elasticsearch.

#### Parameters

The following parameters are available in the `install::feature::elasticsearch` class.

##### `ensure`

Data type: `Enum['absent', 'present']`

Set to present enables the feature elasticsearch, absent disables it.

Default value: `present`

##### `host`

Data type: `Stdlib::Host`

Elasticsearch host address.

Default value: `'127.0.0.1'`

##### `port`

Data type: `Stdlib::Port::Unprivileged`

Elasticsearch HTTP port.

Default value: `9200`

##### `index`

Data type: `String`

Elasticsearch index name.

Default value: `'icinga2'`

##### `username`

Data type: `Optional[String]`

Elasticsearch user name.

Default value: ``undef``

##### `password`

Data type: `Optional[String]`

Elasticsearch user password. The password parameter isn't parsed anymore.

Default value: ``undef``

##### `enable_send_perfdata`

Data type: `Boolean`

Whether to send check performance data metrics.

Default value: ``false``

### `install::feature::gelf`

Configures the Icinga 2 feature gelf.

#### Parameters

The following parameters are available in the `install::feature::gelf` class.

##### `host`

Data type: `Stdlib::Host`

GELF receiver host address.

Default value: `'127.0.0.1'`

##### `port`

Data type: `Stdlib::Port::Unprivileged`

GELF receiver port.

Default value: `12201`

##### `source`

Data type: `String`

Source name for this instance.

Default value: `'icinga2'`

##### `enable_send_perfdata`

Data type: `Boolean`

Enable performance data for 'CHECK RESULT' events.

Default value: ``false``

### `install::feature::graphite`

Configures the Icinga 2 feature graphite.

#### Parameters

The following parameters are available in the `install::feature::graphite` class.

##### `host`

Data type: `Stdlib::Host`

Graphite Carbon host address.

Default value: `'localhost'`

##### `port`

Data type: `Stdlib::Port::Unprivileged`

Graphite Carbon port.

Default value: `2003`

##### `enable_send_thresholds`

Data type: `Boolean`

Send additional threshold metrics.

Default value: ``false``

##### `enable_send_metadata`

Data type: `Boolean`

Send additional metadata metrics.

Default value: ``false``

### `install::feature::influxdb`

Configures the Icinga 2 feature influxdb.

#### Parameters

The following parameters are available in the `install::feature::influxdb` class.

##### `host`

Data type: `Stdlib::Host`

InfluxDB host address.

Default value: `'localhost'`

##### `port`

Data type: `Stdlib::Port`

InfluxDB HTTP port.

Default value: `8086`

##### `database`

Data type: `String`

InfluxDB database name.

Default value: `'icinga2'`

##### `username`

Data type: `Optional[String]`

InfluxDB user name.

Default value: ``undef``

##### `password`

Data type: `Optional[String]`

InfluxDB user password. The password parameter isn't parsed anymore.

Default value: ``undef``

##### `enable_send_thresholds`

Data type: `Boolean`

Whether to send warn, crit, min & max tagged data.

Default value: ``false``

##### `enable_send_metadata`

Data type: `Boolean`

Whether to send check metadata e.g. states, execution time, latency etc.

Default value: ``false``

### `install::feature::livestatus`

Configures the Icinga 2 feature livestatus.

#### Parameters

The following parameters are available in the `install::feature::livestatus` class.

##### `socket_type`

Data type: `Enum['tcp', 'unix']`

Specifies the socket type. Can be either 'tcp' or 'unix'.

Default value: `unix`

##### `bind_host`

Data type: `Stdlib::Host`

condition: $socket_type == 'tcp'
IP address to listen for connections. Only valid when socket_type is 'tcp'.

Default value: `'127.0.0.1'`

##### `bind_port`

Data type: `Stdlib::Port::Unprivileged`

condition: $socket_type == 'tcp'
Port to listen for connections. Only valid when socket_type is 'tcp'.

Default value: `6558`

##### `socket_path`

Data type: `Stdlib::Absolutepath`

condition: $socket_type == 'unix'
Specifies the path to the UNIX socket file. Only valid when socket_type is 'unix'.

Default value: `'/var/run/icinga2/cmd/livestatus'`

### `install::params`

Class for defaults and password cache data.

### `install::plugins`

This class installs monitoring plugins.

#### Parameters

The following parameters are available in the `install::plugins` class.

##### `basic_plugins`

Data type: `Variant[String, Array[String]]`

Manage what plugins have to be installed.

Default value: `$install::params::basic_plugins`

### `install::repos`

This class manages the stages stable, testing and snapshot of packages.icinga.com repository
and depending on the operating system platform some other repositories.

#### Parameters

The following parameters are available in the `install::repos` class.

##### `manage_stable`

Data type: `Boolean`

Manage the Icinga stable repository. Disabled by setting to 'false'. Defaults to 'true'.

Default value: ``true``

##### `manage_testing`

Data type: `Boolean`

Manage the Icinga testing repository to get access to release candidates.
Enabled by setting to 'true'. Defaults to 'false'.

Default value: ``false``

##### `manage_nightly`

Data type: `Boolean`

Manage the Icinga snapshot repository to get access to nightly snapshots.
Enabled by setting to 'true'. Defaults to 'false'.

Default value: ``false``

##### `configure_backports`

Data type: `Boolean`

Enables or Disables the backports repository. Has only an effect on plattforms
simular to Debian. To configure the backports repo uses apt::backports in hiera.

Default value: `$install::params::configure_backports`

##### `manage_epel`

Data type: `Boolean`

Manage the EPEL (Extra Packages Enterprise Linux) repository that is needed for some package
like newer Boost libraries. Has only an effect on plattforms simular to RedHat Enterprise.

Default value: `$install::params::manage_epel`

##### `manage_plugins`

Data type: `Boolean`

Manage the NETWAYS plugins repository that provides some packages for additional plugins.

Default value: ``true``

##### `manage_extras`

Data type: `Boolean`

Manage the NETWAYS extras repository that provides some packages for extras.

Default value: ``true``

### `install::server`

Setup a Icinga server.

#### Parameters

The following parameters are available in the `install::server` class.

##### `ca`

Data type: `Boolean`

Enables a CA on this node.

Default value: ``true``

##### `zone`

Data type: `String`

Name of the Icinga zone.

Default value: `'main'`

##### `global_zones`

Data type: `Array[String]`

List of global zones to configure.

Default value: `['linux-commands', 'windows-commands', 'global-templates', 'director-global']`

##### `ticket_salt`

Data type: `String`

Set an alternate ticket salt to icinga::ticket_salt from Hiera.

Default value: `$install::params::ticket_salt`

##### `web_api_pass`

Data type: `String`

Icinga API user password.

Default value: `$install::params::web_api_password`

##### `director_api_pass`

Data type: `String`

Icinga API director user password.

Default value: `$install::params::director_api_password`

##### `logging_type`

Data type: `Enum['file', 'syslog']`

Switch the log target. Only `file` is supported on Windows.

Default value: `'syslog'`

##### `logging_level`

Data type: `Enum[
    'debug', 'information',
    'notice', 'warning', 'critical'
  ]`

Set the log level.

Default value: `'critical'`

### `install::web`

== Parameters:

#### Parameters

The following parameters are available in the `install::web` class.

##### `manage_backend`

Data type: `Boolean`

Enable/disable feature IDO and Database

Default value: ``false``

##### `backend_db_type`

Data type: `Enum['mysql', 'pgsql']`

Set IDO backend database type.

Default value: `'mysql'`

##### `backend_db_host`

Data type: `Stdlib::Host`

IDO database host to connect.

Default value: `'localhost'`

##### `backend_db_port`

Data type: `Optional[Stdlib::Port]`

IDO database port to connect.

Default value: ``undef``

##### `backend_db_name`

Data type: `String`

Name of the IDO database to connect.

Default value: `'icinga2'`

##### `backend_db_username`

Data type: `String`

Account name to logon database.

Default value: `'icinga2'`

##### `backend_db_password`

Data type: `String`

Account password to logon database.

Default value: `$install::params::backend_db_password`

##### `create_backend_database`

Data type: `Boolean`

Enable/disable initial creation of the database for the backend.

Default value: ``false``

##### `manage_frontend`

Data type: `Boolean`

Eanable/disable installation of Icinga Web 2.

Default value: ``false``

##### `db_type`

Data type: `Enum['mysql', 'pgsql']`

condition: $manage_frontend
Set Icinga Web 2 database type.

Default value: `'mysql'`

##### `db_host`

Data type: `Stdlib::Host`

condition: $manage_frontend
Database host to connect.

Default value: `'localhost'`

##### `db_port`

Data type: `Optional[Stdlib::Port]`

condition: $manage_frontend
Database port to connect.

Default value: ``undef``

##### `db_name`

Data type: `String`

condition: $manage_frontend
Database to connect.

Default value: `'icingaweb2'`

##### `db_username`

Data type: `String`

condition: $manage_frontend
Account name to logon database.

Default value: `'icingaweb2'`

##### `db_password`

Data type: `String`

condition: $manage_frontend
Account password to logon database.

Default value: `$install::params::web_db_password`

##### `create_database`

Data type: `Boolean`

condition: $manage_frontend
Enable/disable initial creation of the frontend database.

Default value: ``false``

##### `api_host`

Data type: `Stdlib::Host`

condition: $manage_frontend
Icinga API endpoint to send commands.

Default value: `'localhost'`

##### `api_password`

Data type: `String`

condition: $manage_frontend
Icinga API password for user icingaweb2.

Default value: `$install::params::web_api_password`

##### `enable_director`

Data type: `Boolean`

condition: $manage_frontend
Enable/disable the Director module.

Default value: ``false``

##### `director_db_type`

Data type: `Enum['mysql', 'pgsql']`

condition: $enable_director
Type of your database. Either `mysql` or `pgsql`.

Default value: `'mysql'`

##### `director_db_host`

Data type: `Stdlib::Host`

condition: $enable_director
Hostname of the database.

Default value: `'localhost'`

##### `director_db_port`

Data type: `Optional[Stdlib::Port]`

condition: $enable_director
Port of the database.

Default value: ``undef``

##### `director_db_name`

Data type: `String`

condition: $enable_director
Name of the database.

Default value: `'director'`

##### `director_db_username`

Data type: `String`

condition: $enable_director
Username for DB connection.

Default value: `'director'`

##### `director_db_password`

Data type: `String`

condition: $enable_director
Password for DB connection.

Default value: `$install::params::director_db_password`

##### `director_endpoint`

Data type: `String`

condition: $enable_director
Endpoint object name of Icinga 2 API.

Default value: `$install::params::director_endpoint`

##### `create_director_database`

Data type: `Boolean`

condition: $enable_director
Create database and import schema.

Default value: ``false``

##### `director_api_host`

Data type: `Stdlib::Host`

condition: $enable_director
Icinga 2 API hostname.

Default value: `'localhost'`

##### `director_api_password`

Data type: `String`

condition: $enable_director
Icinga 2 API password.

Default value: `$install::params::director_api_password`

##### `enable_business_process`

Data type: `Boolean`

condition: $manage_frontend
Eanable/disable installation of Icinga Web 2 module Business Process.

Default value: ``false``

### `install::worker`

Class to install Icinga worker

#### Parameters

The following parameters are available in the `install::worker` class.

##### `ca_server`

Data type: `Stdlib::Host`

The CA to send the certificate request to.

##### `zone`

Data type: `String`

Name of the Icinga zone.

##### `parent_zone`

Data type: `String`

Name of the parent Icinga zone.

Default value: `'main'`

##### `parent_endpoints`

Data type: `Hash[String, Hash]`

Configures these endpoints of the parent zone.

##### `global_zones`

Data type: `Array[String]`

List of global zones to configure.

Default value: `['linux-commands', 'windows-commands', 'global-templates', 'director-global']`

##### `logging_type`

Data type: `Enum['file', 'syslog']`

Switch the log target. Only `file` is supported on Windows.

Default value: `'syslog'`

##### `logging_level`

Data type: `Enum[
    'debug', 'information',
    'notice', 'warning', 'critical'
  ]`

Set the log level.

Default value: `'critical'`

